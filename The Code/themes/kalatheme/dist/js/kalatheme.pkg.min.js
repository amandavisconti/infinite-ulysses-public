/*! kalatheme - v4.0.3 - 2014-12-03
* https://drupal.org/project/kalatheme
* Copyright (c) 2014 ; Licensed  */
!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};b[g][0].call(j.exports,function(a){var c=b[g][1][a];return e(c?c:a)},j,j.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b){(function(a){b.exports=function(){var b;return(b="undefined"!=typeof window?window.jQuery:"undefined"!=typeof a?a.jQuery:null)(function(){var a;return a=b(".dropdown-toggle"),a.attr({"aria-expanded":"false"}),b(".dropdown").on("shown.bs.dropdown",function(){return b(this).find(".dropdown-toggle").attr({"aria-expanded":"true"})}).on("hidden.bs.dropdown",function(){return b(this).find(".dropdown-toggle").attr({"aria-expanded":"false"})})})}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(a){a("./kalathemeAjax.coffee"),a("./kalathemeAutocomplete.coffee"),a("./kalathemeModal.coffee"),a("./kalathemeProgress.coffee"),a("./dropdownExpand.coffee")()},{"./dropdownExpand.coffee":1,"./kalathemeAjax.coffee":3,"./kalathemeAutocomplete.coffee":4,"./kalathemeModal.coffee":5,"./kalathemeProgress.coffee":6}],3:[function(){!function(a){var b;return null==(b=window.Drupal).ajax&&(b.ajax=function(){}),Drupal.ajax.prototype.beforeSend=function(b,c){var d,e,f,g;return this.form&&(c.extraData=c.extraData||{},c.extraData.ajax_iframe_upload="1",g=a.fieldValue(this.element),null!==g&&(c.extraData[this.element.name]=g)),a(this.element).addClass("progress-disabled").attr("disabled",!0),"bar"===this.progress.type?(f=new Drupal.progressBar("ajax-progress-"+this.element.id,eval_(this.progress.update_callback),this.progress.method,eval_(this.progress.error_callback)),this.progress.message&&f.setProgress(-1,this.progress.message),this.progress.url&&f.startMonitoring(this.progress.url,this.progress.interval||1500),this.progress.element=a(f.element).addClass("ajax-progress ajax-progress-bar"),this.progress.object=f,a(this.element).after(this.progress.element)):"throbber"===this.progress.type?(d=Drupal.settings.kalatheme.fontawesome===!0?"fa fa-refresh fa-spin":"glyphicon glyphicon-refresh glyphicon-spin",e='<div class="ajax-progress ajax-progress-throbber">',e+='<span class="'+d+'" aria-hidden="true"></span><span class="sr-only">Loading</span></div>',this.progress.element=a(e),a(this.element).is("input")?(this.progress.message&&a(".throbber",this.progress.element).after('<div class="message">'+this.progress.message+"</div>"),a(this.element).after(this.progress.element)):(this.progress.message&&a(".throbber",this.progress.element).append('<div class="message">'+this.progress.message+"</div>"),a(this.element).append(this.progress.element))):void 0}}(jQuery)},{}],4:[function(){!function(a){var b;return null==window.Drupal&&(window.Drupal={}),Drupal.behaviors.autocomplete={attach:function(b){var c;return c=[],a("input.autocomplete",b).once("autocomplete",function(){var b,d,e;return e=this.value,c[e]||(c[e]=new Drupal.ACDB(e)),b=a("#"+this.id.substr(0,this.id.length-13)).attr("autocomplete","OFF").attr("aria-autocomplete","list"),a(b[0].form).submit(Drupal.autocompleteSubmit),d=a('<span class="element-invisible" aria-live="assertive"/>').attr("id",""+b.attr("id")+"-autocomplete-aria-live"),b.after,b.parent().parent().attr("role","application"),new Drupal.jsAC(b,c[e])})}},Drupal.autocompleteSubmit=function(){return 0===a(".form-autocomplete > .dropdown").each(function(){return this.owner.hidePopup()}).length},null==(b=window.Drupal).jsAC&&(b.jsAC=function(){}),Drupal.jsAC.prototype.highlight=function(b){return this.selected&&a(this.selected).removeClass("active"),a(b).addClass("active"),this.selected=b,a(this.ariaLive).html(a(this.selected).html())},Drupal.jsAC.prototype.unhighlight=function(b){return a(b).removeClass("active"),this.selected=!1,a(this.ariaLive).empty()},Drupal.jsAC.prototype.populatePopup=function(){var b;b=a(this.input),this.popup&&a(this.popup).remove(),this.selected=!1,this.popup=a('<div class="dropdown"></div>')[0],this.popup.owner=this,b.parent().after(this.popup),this.db.owner=this,this.db.search(this.input.value)},Drupal.jsAC.prototype.found=function(b){var c,d,e;if(!this.input.value.length)return!1;e=a('<ul class="dropdown-menu" role="menu"></ul>'),c=this,e.css({display:"block",right:0});for(d in b)a('<li role="presentation"></li>').html(a('<a href="#" role="menuitem"/>').html(b[d]).click(function(a){return a.preventDefault()})).mousedown(function(){return c.select(this)}).mouseover(function(){return c.highlight(this)}).mouseout(function(){return c.unhighlight(this)}).data("autocompleteValue",d).appendTo(e);return this.popup?e.children().length?(a(this.popup).empty().append(e).show(),a(this.ariaLive).html(Drupal.t("Autocomplete popup"))):(a(this.popup).css({visibility:"hidden"}),this.hidePopup()):void 0},Drupal.jsAC.prototype.setStatus=function(b){var c,d,e,f;switch(d=Drupal.settings.kalatheme.fontawesome?!0:!1,e=d?"fa-spin":"glyphicon-spin",c=a(".fa-refresh, .glyphicon-refresh, .autocomplete-throbber",a("#"+this.input.id).parent()).first(),f=c.is(".autocomplete-throbber")?"throbbing":e,b){case"begin":return c.addClass(f),a(this.ariaLive).html(Drupal.t("Searching for matches..."));case"cancel":case"error":case"found":return c.removeClass(f)}}}(jQuery)},{}],5:[function(){!function(a){null==window.Drupal&&(window.Drupal={}),null==Drupal.CTools&&(Drupal.CTools={}),null!=Drupal.CTools.Modal&&(Drupal.CTools.Modal.show=function(b){var c,d,e,f;d={},b&&"string"==typeof b&&Drupal.settings[b]?a.extend(!0,d,Drupal.settings[b]):b&&a.extend(!0,d,b),c={modalTheme:"CToolsModalDialog",throbberTheme:"CToolsModalThrobber",animation:"show",animationSpeed:"fast",modalSize:{type:"scale",width:.8,height:.8,addWidth:0,addHeight:0,contentRight:25,contentBottom:45},modalOptions:{opacity:.55,background:"#fff"}},f={},a.extend(!0,f,c,Drupal.settings.CToolsModal,d),Drupal.CTools.Modal.currentSettings&&Drupal.CTools.Modal.currentSettings!==f&&(Drupal.CTools.Modal.modal.remove(),Drupal.CTools.Modal.modal=null),Drupal.CTools.Modal.currentSettings=f,e=function(b){var c,d,e;c=b?document:Drupal.CTools.Modal.modal,"scale"===Drupal.CTools.Modal.currentSettings.modalSize.type?(e=a(window).width()*Drupal.CTools.Modal.currentSettings.modalSize.width,d=a(window).height()*Drupal.CTools.Modal.currentSettings.modalSize.height):(e=Drupal.CTools.Modal.currentSettings.modalSize.width,d=Drupal.CTools.Modal.currentSettings.modalSize.height),a("div.ctools-modal-dialog",c).css({width:e+Drupal.CTools.Modal.currentSettings.modalSize.addWidth+"px",height:d+Drupal.CTools.Modal.currentSettings.modalSize.addHeight+"px"}),a("div.ctools-modal-dialog .modal-body",c).css({width:e-Drupal.CTools.Modal.currentSettings.modalSize.contentRight+"px",height:d-Drupal.CTools.Modal.currentSettings.modalSize.contentBottom+"px"})},Drupal.CTools.Modal.modal||(Drupal.CTools.Modal.modal=a(Drupal.theme(f.modalTheme)),"scale"===f.modalSize.type&&a(window).bind("resize",e)),a("body").addClass("modal-open"),e(),a(".modal-title",Drupal.CTools.Modal.modal).html(Drupal.CTools.Modal.currentSettings.loadingText),Drupal.CTools.Modal.modalContent(Drupal.CTools.Modal.modal,f.modalOptions,f.animation,f.animationSpeed),a("#modalContent .modal-body").html(Drupal.theme(f.throbberTheme))},Drupal.CTools.Modal.dismiss=function(){console.log("oi"),Drupal.CTools.Modal.modal&&(a("body").removeClass("modal-open"),Drupal.CTools.Modal.unmodalContent(Drupal.CTools.Modal.modal))},null==Drupal.theme&&(Drupal.theme=function(){}),Drupal.theme.prototype.CToolsModalDialog=function(){var a;return a="",a+='  <div id="ctools-modal">',a+='    <div class="ctools-modal-dialog modal-dialog">',a+='      <div class="modal-content">',a+='        <div class="modal-header">',a+='          <button type="button" class="close ctools-close-modal">',a+='           <span aria-hidden="true">&times;</span>',a+='           <span class="sr-only">Close</span></button>',a+='          <h4 id="modal-title" class="modal-title">&nbsp;</h4>',a+="        </div>",a+='        <div id="modal-content" class="modal-body">',a+="        </div>",a+="      </div>",a+="    </div>",a+="  </div>"},Drupal.theme.prototype.CToolsModalThrobber=function(){var a;return a="",a+='  <div class="loading-spinner" style="position: absolute; top: 45%; left: 50%">',a+='    <i class="fa fa-cog fa-spin fa-3x"></i>',a+="  </div>"})}(jQuery)},{}],6:[function(){!function(a){var b;return null==window.Drupal&&(window.Drupal={}),b=function(){function b(b,c,d,e){var f,g;this.id=b,this.updateCallback=c,this.method=d,this.errorCallback=e,f=a('<div class="progress-wrapper" aria-live="polite"></div>'),g='<div id ="'+this.id+'" class="progress progress-striped active"',g+='aria-describedby="message'+this.id+'">\n<div class="progress-bar"',g+=' role="progressbar" aria-valuemin="0" aria-valuemax="100" ',g+='aria-valuenow="0">\n<div class="percentage">\n</div>\n</div>\n</div>',g+="</div>\n",g+='<p class="message help-block" id="message'+this.id+'"></p>',f.html(g),this.element=f}var c;return c=b,b.prototype.setProgress=function(b,c){return b>=0&&100>=b&&(a(".progress-bar",this.element).css("width",b+"%"),a(".progress-bar",this.element).attr("aria-valuenow",b),a(".percentage",this.element).html(b+"%")),a(".message",this.element).html(c),this.updateCallback?this.updateCallback(b,c,this):void 0},b.prototype.startMonitoring=function(a,b){return this.delay=b,this.uri=a,this.sendPing()},b.prototype.stopMonitoring=function(){return clearTimeout(this.timer),this.uri=null},b.prototype.sendPing=function(){return this.timer&&clearTimeout(this.timer),this.uri?(c=this,a.ajax({type:this.method,url:this.uri,data:"",dataType:"json",success:function(a){return 0===a.status&&c.displayError(a.data),c.setProgress(a.percentage,a.message),c.timer=setTimeout(function(){return c.sendPing()},c.delay)},error:function(a){return c.displayError(Drupal.ajaxError(a,c.uri))}})):void 0},b.prototype.displayError=function(b){var c,d;return d='<div class="alert alert-block alert-error" role="alert">',d+='<button type="button" class="close"',d+=' data-dismiss="alert">',d+='<span aria-hidden="true">&times;</span>',d+='     <span class="sr-only">Close</span></button>',d+="<h4>Error message</h4></div>",c=a(d).append(b),a(this.element).before(c).hide(),this.errorCallback?this.errorCallback(this):void 0},b}(),Drupal.progressBar=b}(jQuery)},{}]},{},[2]);
//# sourceMappingURL=kalatheme.map